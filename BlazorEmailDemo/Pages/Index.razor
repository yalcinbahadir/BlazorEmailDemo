@page "/"
@using BlazorEmailDemo.EmailService
<h1>Hello, world!</h1>

Welcome to your new app.
<div class="form-group">
    <label>Email</label>
    <input type="email" name="name" @bind-value="Email" class="form-control"/>
</div>
<div>
    <p>Your email: </p>
    @Email
</div>

<button class="btn btn-primary" @onclick="SendEmail">Send</button>


<SurveyPrompt Title="How is Blazor working for you?" />

@code{
    [Inject]
    public IEmailSender EmailSender { get; set; }

    public string Email { get; set; }
    string htmlMessage = "<p style='color:red'>Hello world.</p>";

    private async Task SendEmail()
    {
        await EmailSender.SendEmailAsync(Email, "Test", htmlMessage);
    }
}
